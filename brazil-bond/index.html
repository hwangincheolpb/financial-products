<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 ë¸Œë¼ì§ˆ êµ­ì±„ ë¦¬ë°¸ëŸ°ì‹± ì „ëµ ì œì•ˆì„œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #fdfbf7; color: #333; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin: 0 auto; height: 350px; max-height: 400px; }
        .card { background-color: white; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); transition: transform 0.2s; }
        .card:hover { transform: translateY(-2px); }
        .highlight-text { color: #166534; font-weight: 700; }
        .accent-bg { background-color: #166534; }
        .soft-bg { background-color: #f0fdf4; }
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%; background: #166534; cursor: pointer; margin-top: -6px; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; cursor: pointer; background: #ddd; border-radius: 2px; }
    </style>
</head>
<body class="antialiased text-slate-800">

    <!-- Chosen Palette: Warm Professional (Cream Background, Deep Green/Navy Accents) -->
    <!-- Application Structure Plan: 
        1. Executive Summary: The "Hook" - 18% Quantity Increase immediately visible.
        2. The Strategy (Calculator): Interactive demonstration of the swap math (Sell 29/27yr -> Buy 37yr).
        3. Market Outlook: Why now? Interest rate cycle visualization.
        4. Simulation (Risk/Reward): Interactive stress test for Exchange Rate & Interest Rate scenarios.
        5. Investment Thesis: Textual support using IB consensus and tax benefits.
    -->
    <!-- Visualization & Content Choices:
        - Bar Charts: To compare Quantity and Coupon Income before/after.
        - Line Chart: To show the Interest Rate Forecast (Selic).
        - Doughnut Chart: Asset Composition/Buffer effect.
        - Interactive Sliders: For the Scenario Analysis (User controls FX and Rates).
        - Justification: Canvas charts provide smooth animations for financial data; HTML interaction allows users to "feel" the numbers.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <!-- Header -->
    <header class="bg-slate-900 text-white py-6 sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold tracking-tight">VIP íˆ¬ì ì œì•ˆì„œ</h1>
                <p class="text-sm text-slate-400">ë¸Œë¼ì§ˆ êµ­ì±„ 37ë…„ë¬¼ êµì²´ ë§¤ë§¤ ì „ëµ (2026.01)</p>
            </div>
            <div class="hidden md:block text-right text-sm">
                <p class="font-semibold">ë‹´ë‹¹ PB: AI ì–´ë“œë°”ì´ì €</p>
                <p class="text-slate-400">ì „ìš© ìƒë‹´ ë¼ì¸</p>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 space-y-12 max-w-6xl">

        <!-- Section 1: Executive Summary / The Hook -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <div class="space-y-6">
                <span class="inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-bold">ì „ëµ í•µì‹¬</span>
                <h2 class="text-3xl md:text-4xl font-bold leading-tight">
                    "ë¬¼ëŸ‰ <span class="text-green-700">18%</span> ì¦‰ì‹œ í™•ë³´.<br>
                    ê¸ˆë¦¬ ì¸í•˜ ì‚¬ì´í´ì˜ <span class="text-amber-600">ì´ˆì…</span>ì„ ì„ ì í•˜ì‹­ì‹œì˜¤."
                </h2>
                <p class="text-lg text-slate-600">
                    í˜„ì¬ ë³´ìœ  ì¤‘ì¸ 27/29ë…„ë¬¼ì„ ë§¤ë„í•˜ê³  37ë…„ë¬¼ë¡œ êµì²´ ì‹œ, ìˆ˜ìˆ˜ë£Œë¥¼ ì°¨ê°í•˜ê³ ë„ ì±„ê¶Œ ìˆ˜ëŸ‰ì´ 18% ì¦ê°€í•©ë‹ˆë‹¤. ì´ëŠ” í–¥í›„ ê¸ˆë¦¬ í•˜ë½ ì‹œ ìë³¸ ì°¨ìµì„ ê·¹ëŒ€í™”í•˜ê³  í™˜ìœ¨ ë³€ë™ì„±ì„ ë°©ì–´í•  ê°•ë ¥í•œ ë²„í¼ê°€ ë©ë‹ˆë‹¤.
                </p>
                <div class="flex space-x-4">
                    <button onclick="document.getElementById('calculator').scrollIntoView({behavior: 'smooth'})" class="px-6 py-3 bg-green-700 hover:bg-green-800 text-white rounded-lg font-semibold shadow transition">
                        êµì²´ ì‹œë®¬ë ˆì´ì…˜ ë³´ê¸°
                    </button>
                    <button onclick="document.getElementById('simulation').scrollIntoView({behavior: 'smooth'})" class="px-6 py-3 border border-slate-300 hover:bg-slate-50 text-slate-700 rounded-lg font-semibold transition">
                        ë¦¬ìŠ¤í¬ ì ê²€
                    </button>
                </div>
            </div>
            <div class="card p-6 bg-white border-l-4 border-green-600">
                <h3 class="text-xl font-bold mb-4 border-b pb-2">ê¸°ëŒ€ íš¨ê³¼ ìš”ì•½ (10ë§Œ ì±„ ê¸°ì¤€)</h3>
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <span class="text-slate-500">êµì²´ ì „ ìˆ˜ëŸ‰</span>
                        <span class="font-mono text-lg">100,000 ì±„</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-slate-500">êµì²´ í›„ ìˆ˜ëŸ‰ (ìˆ˜ìˆ˜ë£Œ ì°¨ê° í›„)</span>
                        <span class="font-mono text-xl font-bold text-green-700">118,385 ì±„</span>
                    </div>
                    <div class="w-full bg-slate-100 h-2 rounded-full overflow-hidden">
                        <div class="bg-green-600 h-full" style="width: 100%"></div>
                    </div>
                    <p class="text-sm text-slate-500 mt-2">* 2026.01.15 ì‹œì¥ê°€ ê¸°ì¤€ ì¶”ì‚° (27ë…„ë¬¼ ë§¤ë„/37ë…„ë¬¼ ë§¤ìˆ˜)</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Interactive Calculator -->
        <section id="calculator" class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 md:p-8">
            <div class="mb-6">
                <h3 class="text-2xl font-bold text-slate-800 mb-2">ğŸ”„ ë¦¬ë°¸ëŸ°ì‹± ê³„ì‚°ê¸°</h3>
                <p class="text-slate-600">ë³´ìœ  ìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì—¬ ì‹¤ì œ ëŠ˜ì–´ë‚˜ëŠ” ìì‚° ê·œëª¨ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Inputs -->
                <div class="space-y-6 lg:col-span-1 bg-slate-50 p-6 rounded-xl">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">í˜„ì¬ ë³´ìœ  ìˆ˜ëŸ‰ (ì±„)</label>
                        <input type="number" id="inputQuantity" value="100000" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none font-mono text-lg" oninput="updateCalculator()">
                    </div>
                    <div class="pt-4 border-t border-slate-200 space-y-3 text-sm">
                        <div class="flex justify-between">
                            <span class="text-slate-500">ë§¤ë„ ë‹¨ê°€ (27/29ë…„)</span>
                            <span class="font-mono font-semibold">974.65 BRL</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-slate-500">ë§¤ìˆ˜ ë‹¨ê°€ (37ë…„)</span>
                            <span class="font-mono font-semibold">810.00 BRL</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-slate-500">ë§¤ìˆ˜ ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ</span>
                            <span class="font-mono text-red-500">1.64%</span>
                        </div>
                    </div>
                    <div class="mt-4 p-4 bg-green-50 rounded-lg border border-green-100">
                        <p class="text-sm text-green-800 font-semibold mb-1">ğŸ’¡ PBì˜ ì¡°ì–¸</p>
                        <p class="text-xs text-green-700 leading-relaxed">ë§¤ë„ ì‹œì—ëŠ” ìˆ˜ìˆ˜ë£Œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í™•ë³´ëœ í—¤ì•Œí™” ì „ì•¡ì„ ë” ì‹¼ ê°€ê²©ì˜ 37ë…„ë¬¼ ë§¤ìˆ˜ì— íˆ¬ì…í•˜ì—¬ ìˆ˜ëŸ‰ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="lg:col-span-2">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="bg-white border rounded-xl p-4 text-center">
                            <p class="text-sm text-slate-500 mb-1">ì¦ê°€ ìˆ˜ëŸ‰</p>
                            <p class="text-2xl font-bold text-green-600" id="displayIncrease">+18,385 ì±„</p>
                        </div>
                        <div class="bg-white border rounded-xl p-4 text-center">
                            <p class="text-sm text-slate-500 mb-1">ì—°ê°„ ì¶”ê°€ ì´ìì†Œë“ (BRL)</p>
                            <p class="text-2xl font-bold text-amber-600" id="displayCouponIncrease">+1,838 BRL</p>
                        </div>
                    </div>
                    <div class="chart-container h-64">
                        <canvas id="rebalanceChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Market Context & Logic -->
        <section id="macro" class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <div>
                <h3 class="text-2xl font-bold mb-4">ì™œ ì§€ê¸ˆì¸ê°€? <span class="text-slate-400 font-light">Global IB View</span></h3>
                <p class="text-slate-600 mb-6 leading-relaxed">
                    2026ë…„ì€ ë¸Œë¼ì§ˆ ì¤‘ì•™ì€í–‰ì˜ <strong>í”¼ë²—(í†µí™”ì •ì±… ì „í™˜)</strong>ì´ ì˜ˆìƒë˜ëŠ” í•´ì…ë‹ˆë‹¤. í˜„ì¬ 15% ìˆ˜ì¤€ì˜ ê³ ê¸ˆë¦¬ëŠ” 2026ë…„ ë§ 12.25% ìˆ˜ì¤€ìœ¼ë¡œ í•˜í–¥ ì•ˆì •í™”ë  ì „ë§ì…ë‹ˆë‹¤. ê¸ˆë¦¬ í•˜ë½ê¸°ëŠ” ì±„ê¶Œ ê°€ê²© ìƒìŠ¹ì˜ ì ê¸°ì´ë©°, <strong>ë“€ë ˆì´ì…˜(ë§Œê¸°)ì´ ê¸´ ì±„ê¶Œì¼ìˆ˜ë¡ ê°€ê²© ìƒìŠ¹í­ì´ í½ë‹ˆë‹¤.</strong>
                </p>
                <div class="space-y-4">
                    <div class="card p-4 border-l-4 border-blue-600">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-bold text-slate-800">JP Morgan & Goldman Sachs</h4>
                            <span class="text-xs bg-slate-100 px-2 py-1 rounded">2026 Outlook</span>
                        </div>
                        <p class="text-sm text-slate-600">"ì‹ í¥êµ­ ë¶€ì±„ ì¤‘ ë¸Œë¼ì§ˆ êµ­ì±„ì˜ ê³ ê¸ˆë¦¬ëŠ” ë§¤ë ¥ì . ì¸í”Œë ˆì´ì…˜ ì•ˆì •í™”ì— ë”°ë¥¸ ê¸ˆë¦¬ ì¸í•˜ ì‚¬ì´í´ ì§„ì… ì‹œ ìë³¸ ì°¨ìµ ê¸°ëŒ€."</p>
                    </div>
                    <div class="card p-4 border-l-4 border-amber-500">
                        <h4 class="font-bold text-slate-800 mb-2">ë¹„ê³¼ì„¸ í˜œíƒ (Tax Alpha)</h4>
                        <p class="text-sm text-slate-600">í•œêµ­-ë¸Œë¼ì§ˆ ì¡°ì„¸í˜‘ì•½ì— ì˜ê±°, ì´ìì†Œë“ ë° í™˜ì°¨ìµ <strong>ì „ì•¡ ë¹„ê³¼ì„¸</strong>. ê¸ˆìœµì†Œë“ì¢…í•©ê³¼ì„¸ ëŒ€ìƒìì—ê²ŒëŠ” ì‹¤ì§ˆ ìˆ˜ìµë¥  +@ íš¨ê³¼.</p>
                    </div>
                </div>
            </div>
            <div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <h4 class="text-lg font-bold mb-4 text-center">ë¸Œë¼ì§ˆ ê¸°ì¤€ê¸ˆë¦¬(Selic) ì „ë§</h4>
                    <div class="chart-container">
                        <canvas id="rateChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-slate-400 mt-2">*ìë£Œ: Bloomberg, ì±„ìš” IB ì „ë§ì¹˜ ì¢…í•© (2026.01 ê¸°ì¤€)</p>
                </div>
            </div>
        </section>

        <!-- Section 4: Scenario Simulator (The Core Value Add) -->
        <section id="simulation" class="bg-slate-900 text-white rounded-3xl p-8 md:p-12 shadow-2xl">
            <div class="text-center mb-10">
                <h3 class="text-3xl font-bold mb-3">ë¯¸ë˜ ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜</h3>
                <p class="text-slate-400">"í™˜ìœ¨ì´ ë–¨ì–´ì§€ë©´ ì†í•´ ì•„ë‹Œê°€ìš”?" <br>ëŠ˜ì–´ë‚œ ë¬¼ëŸ‰(Buffer)ì´ í™˜ì°¨ì†ì„ ì–¼ë§ˆë‚˜ ë°©ì–´í•˜ëŠ”ì§€ ì§ì ‘ í™•ì¸í•´ë³´ì‹­ì‹œì˜¤.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
                <!-- Controls -->
                <div class="space-y-8">
                    <div>
                        <label class="flex justify-between mb-2 text-sm font-medium">
                            <span>ì˜ˆìƒ ì›/í—¤ì•Œ í™˜ìœ¨ (í˜„ì¬ ~260ì›)</span>
                            <span id="valFX" class="text-amber-400">260 KRW</span>
                        </label>
                        <input type="range" id="sliderFX" min="200" max="400" step="5" value="260" oninput="updateSimulation()">
                        <div class="flex justify-between text-xs text-slate-500 mt-1">
                            <span>200ì›(í­ë½)</span>
                            <span>400ì›(ê°•ì„¸)</span>
                        </div>
                    </div>
                    <div>
                        <label class="flex justify-between mb-2 text-sm font-medium">
                            <span>ì˜ˆìƒ ì‹œì¥ ê¸ˆë¦¬ ë³€ë™</span>
                            <span id="valRate" class="text-green-400">-2.0%</span>
                        </label>
                        <input type="range" id="sliderRate" min="-5" max="2" step="0.5" value="-2" oninput="updateSimulation()">
                        <div class="flex justify-between text-xs text-slate-500 mt-1">
                            <span>-5%(ëŒ€í­í•˜ë½)</span>
                            <span>+2%(ìƒìŠ¹)</span>
                        </div>
                    </div>
                    <div class="p-4 bg-slate-800 rounded-lg text-sm text-slate-300">
                        <p class="mb-2"><strong>ğŸ” ì‹œë®¬ë ˆì´ì…˜ ë¡œì§:</strong></p>
                        <ul class="list-disc list-inside space-y-1 text-xs">
                            <li>ë¬¼ëŸ‰ ì¦ê°€ë¶„(18%) ë°˜ì˜</li>
                            <li>37ë…„ë¬¼ ë“€ë ˆì´ì…˜(ì•½ 10ë…„) ì ìš© ìë³¸ì†ìµ ê³„ì‚°</li>
                            <li>í™˜ìœ¨ ë³€ë™ì— ë”°ë¥¸ ì›í™” í™˜ì‚° ê°€ì¹˜ ê³„ì‚°</li>
                            <li>1ë…„ ë³´ìœ  ê°€ì • (ì´ììˆ˜ìµ í¬í•¨)</li>
                        </ul>
                    </div>
                </div>

                <!-- Results Display -->
                <div class="lg:col-span-2 flex flex-col justify-center items-center bg-slate-800 rounded-2xl p-6 relative overflow-hidden">
                    <!-- Background decoration -->
                    <div class="absolute top-0 right-0 w-64 h-64 bg-green-500 opacity-5 rounded-full filter blur-3xl transform translate-x-1/2 -translate-y-1/2"></div>
                    
                    <div class="grid grid-cols-2 gap-8 w-full max-w-lg mb-8">
                        <div class="text-center">
                            <p class="text-slate-400 text-sm mb-1">ê¸°ì¡´ ìœ ì§€ ì‹œ (27ë…„ë¬¼)</p>
                            <p class="text-2xl font-mono" id="resultOld">0 KRW</p>
                            <p class="text-xs text-slate-500 mt-1" id="returnOld">(0%)</p>
                        </div>
                        <div class="text-center border-l border-slate-700">
                            <p class="text-amber-400 text-sm mb-1 font-bold">êµì²´ ë§¤ë§¤ ì‹œ (37ë…„ë¬¼)</p>
                            <p class="text-3xl font-bold font-mono text-white" id="resultNew">0 KRW</p>
                            <p class="text-xs text-green-400 mt-1" id="returnNew">(0%)</p>
                        </div>
                    </div>
                    
                    <div class="w-full bg-slate-700 h-4 rounded-full overflow-hidden mb-2 relative">
                         <!-- Center Marker -->
                        <div class="absolute left-1/2 top-0 bottom-0 w-0.5 bg-slate-500 z-10"></div>
                        <div id="barOld" class="absolute top-0 bottom-0 bg-slate-400 opacity-50 transition-all duration-500" style="left: 50%; width: 0%"></div>
                        <div id="barNew" class="absolute top-0 bottom-0 bg-green-500 transition-all duration-500" style="left: 50%; width: 0%"></div>
                    </div>
                    <div class="flex justify-between w-full text-xs text-slate-500 px-1">
                        <span>ì†ì‹¤ êµ¬ê°„</span>
                        <span>ì´ìµ êµ¬ê°„</span>
                    </div>

                    <div id="analysisText" class="mt-6 text-center text-sm font-medium text-amber-300 bg-amber-900/20 px-4 py-2 rounded-full border border-amber-700/50">
                        ë¶„ì„ ì¤‘...
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Risk & Conclusion -->
        <section id="risks" class="border-t border-slate-200 pt-12">
            <h3 class="text-xl font-bold mb-6">âš ï¸ íˆ¬ì ìœ ì˜ì‚¬í•­ ë° ë¦¬ìŠ¤í¬ ìš”ì¸</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-sm">
                <div class="bg-white p-5 rounded-lg border border-slate-100 shadow-sm">
                    <h4 class="font-bold text-slate-700 mb-2">1. í™˜ìœ¨ ë³€ë™ì„±</h4>
                    <p class="text-slate-500">2026ë…„ ëŒ€ì„  ë° ì¬ì • ì´ìŠˆë¡œ í—¤ì•Œí™” ì•½ì„¸ê°€ ì§€ì†ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ êµì²´ ë§¤ë§¤ë¥¼ í†µí•´ í™•ë³´í•œ <strong>18%ì˜ ì¶”ê°€ ë¬¼ëŸ‰(Buffer)</strong>ì´ í™˜ì°¨ì†ì„ ìƒë‹¹ ë¶€ë¶„ ìƒì‡„í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="bg-white p-5 rounded-lg border border-slate-100 shadow-sm">
                    <h4 class="font-bold text-slate-700 mb-2">2. ì¬ì • ë¦¬ìŠ¤í¬</h4>
                    <p class="text-slate-500">ë¸Œë¼ì§ˆ GDP ëŒ€ë¹„ ë¶€ì±„ë¹„ìœ¨ì´ ë†’ìŠµë‹ˆë‹¤. ë‹¨, ë¸Œë¼ì§ˆì€ ì™¸í™˜ë³´ìœ ê³ ê°€ ì•ˆì •ì ì´ë©° ì›ìì¬ ìˆ˜ì¶œêµ­ìœ¼ë¡œì„œì˜ ê¸°ì´ˆ ì²´ë ¥ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="bg-white p-5 rounded-lg border border-slate-100 shadow-sm">
                    <h4 class="font-bold text-slate-700 mb-2">3. ìœ ë™ì„±</h4>
                    <p class="text-slate-500">37ë…„ë¬¼ì€ ì´ˆì¥ê¸°ì±„ë¡œ ë‹¨ê¸°ë¬¼ ëŒ€ë¹„ ê±°ë˜ëŸ‰ì´ ì ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œê¸° ë³´ìœ  ë˜ëŠ” ì¥ê¸° íˆ¬ìë¥¼ ëª©ì ìœ¼ë¡œ ì ‘ê·¼í•˜ì‹œëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-100 py-8 mt-12 border-t border-slate-200">
        <div class="container mx-auto px-4 text-center text-slate-500 text-xs leading-relaxed">
            <p class="mb-4">ë³¸ ìë£ŒëŠ” ê³ ê°ì˜ íˆ¬ìë¥¼ ë•ê¸° ìœ„í•´ ì‘ì„±ëœ ì°¸ê³  ìë£Œì´ë©°, íˆ¬ì ê¶Œìœ ë¥¼ ëª©ì ìœ¼ë¡œ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
            íˆ¬ìì˜ ìµœì¢… ê²°ì •ê³¼ ì±…ì„ì€ íˆ¬ìì ë³¸ì¸ì—ê²Œ ìˆìœ¼ë©°, ê³¼ê±°ì˜ ìˆ˜ìµë¥ ì´ ë¯¸ë˜ì˜ ìˆ˜ìµì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
            ë¸Œë¼ì§ˆ êµ­ì±„ëŠ” í™˜ìœ¨ ë³€ë™ì— ë”°ë¼ ì›ê¸ˆ ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <p>Copyright Â© 2026 AI Wealth Management. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // --- Data & State ---
        const prices = {
            sell: 974.65,
            buy: 810.00,
            feeRate: 0.0164,
            couponRate: 0.10 // 10% Coupon
        };

        // Standard BRL/KRW rough conversion factor for simple display logic (1 BRL ~ 260 KRW roughly based on current context)
        // Note: The prompt implies a cross rate. Assuming 1 USD = 5.4 BRL and 1 USD = 1450 KRW => 1 BRL = ~268 KRW.
        const baseFX = 268; 

        // --- Chart Objects ---
        let rebalanceChartInstance = null;
        let rateChartInstance = null;

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initRebalanceChart();
            initRateChart();
            updateCalculator();
            updateSimulation();
        });

        // --- Logic: Calculator ---
        function updateCalculator() {
            const qty = parseFloat(document.getElementById('inputQuantity').value) || 0;
            
            // Sell Logic
            const totalSellAmount = qty * prices.sell; // No fee on sell as per prompt
            
            // Buy Logic
            const buyPriceWithFee = prices.buy * (1 + prices.feeRate);
            const newQty = Math.floor(totalSellAmount / buyPriceWithFee);
            
            const diff = newQty - qty;
            const percentage = ((diff / qty) * 100).toFixed(1);
            
            // Display updates
            document.getElementById('displayIncrease').innerText = `+${diff.toLocaleString()} ì±„ (${percentage}%)`;
            document.getElementById('displayIncrease').classList.toggle('text-green-600', diff > 0);
            
            // Coupon Calculation (Annual)
            // Face value is typically 1000 BRL for calculation, but prices are quoted differently. 
            // Assuming Price 974 is near par (1000). Let's assume standard face value logic is maintained.
            // Simplified: Coupon is proportional to quantity.
            const oldCoupon = qty * 100; // Assuming 100 BRL coupon per bond (10% of 1000 Face)
            const newCoupon = newQty * 100;
            const couponDiff = newCoupon - oldCoupon;
            
            document.getElementById('displayCouponIncrease').innerText = `+${couponDiff.toLocaleString()} BRL`;

            // Chart Update
            updateRebalanceChart(qty, newQty, oldCoupon, newCoupon);
        }

        // --- Logic: Simulation ---
        function updateSimulation() {
            const forecastFX = parseFloat(document.getElementById('sliderFX').value);
            const rateChange = parseFloat(document.getElementById('sliderRate').value);
            
            document.getElementById('valFX').innerText = `${forecastFX} KRW`;
            document.getElementById('valRate').innerText = `${rateChange > 0 ? '+' : ''}${rateChange}%`;

            const initialQty = 100000;
            const sellAmount = initialQty * prices.sell;
            const buyPriceWithFee = prices.buy * (1 + prices.feeRate);
            const newQty = sellAmount / buyPriceWithFee;

            // Bond Price Sensitivity (Duration Approx)
            // 27yr duration approx 8, 37yr duration approx 12 (Estimates for visual logic)
            const durOld = 8;
            const durNew = 12;

            // Price Change % â‰ˆ -Duration * RateChange
            // If rates drop (-), price goes up (+)
            const priceChangeOldPct = -durOld * (rateChange / 100);
            const priceChangeNewPct = -durNew * (rateChange / 100);

            const finalPriceOld = prices.sell * (1 + priceChangeOldPct);
            const finalPriceNew = prices.buy * (1 + priceChangeNewPct);

            // Total Value in BRL (Price + 1 Year Coupon)
            const coupon = 100; // Assumed 100 BRL per bond
            const totalValBRL_Old = initialQty * (finalPriceOld + coupon);
            const totalValBRL_New = newQty * (finalPriceNew + coupon);

            // Convert to KRW
            const totalValKRW_Old = totalValBRL_Old * forecastFX;
            const totalValKRW_New = totalValBRL_New * forecastFX;

            // Initial Investment Basis (Current Value in KRW at current FX)
            const currentBasisFX = 268; 
            const initialBasisKRW = initialQty * prices.sell * currentBasisFX;

            const returnOldPct = ((totalValKRW_Old - initialBasisKRW) / initialBasisKRW * 100).toFixed(1);
            const returnNewPct = ((totalValKRW_New - initialBasisKRW) / initialBasisKRW * 100).toFixed(1);

            // Display
            document.getElementById('resultOld').innerText = formatKRW(totalValKRW_Old);
            document.getElementById('returnOld').innerText = `(${returnOldPct > 0 ? '+' : ''}${returnOldPct}%)`;
            document.getElementById('resultOld').className = `text-2xl font-mono ${totalValKRW_Old >= initialBasisKRW ? 'text-slate-200' : 'text-red-400'}`;

            document.getElementById('resultNew').innerText = formatKRW(totalValKRW_New);
            document.getElementById('returnNew').innerText = `(${returnNewPct > 0 ? '+' : ''}${returnNewPct}%)`;
            document.getElementById('resultNew').className = `text-3xl font-bold font-mono ${totalValKRW_New >= initialBasisKRW ? 'text-white' : 'text-red-400'}`;

            // Visual Bar Logic (Relative to Initial Basis)
            // Center is 0% return. Max width is +/- 50%
            const maxRange = 50; 
            
            const posOld = Math.min(Math.max(parseFloat(returnOldPct), -maxRange), maxRange);
            const posNew = Math.min(Math.max(parseFloat(returnNewPct), -maxRange), maxRange);

            const barOld = document.getElementById('barOld');
            const barNew = document.getElementById('barNew');

            if(posOld >= 0) {
                barOld.style.left = '50%';
                barOld.style.width = `${(posOld/maxRange)*50}%`;
                barOld.className = 'absolute top-0 bottom-0 bg-slate-400 opacity-50 transition-all duration-500 rounded-r';
            } else {
                barOld.style.left = `${50 - (Math.abs(posOld)/maxRange)*50}%`;
                barOld.style.width = `${(Math.abs(posOld)/maxRange)*50}%`;
                barOld.className = 'absolute top-0 bottom-0 bg-red-400 opacity-30 transition-all duration-500 rounded-l';
            }

            if(posNew >= 0) {
                barNew.style.left = '50%';
                barNew.style.width = `${(posNew/maxRange)*50}%`;
                barNew.className = 'absolute top-0 bottom-0 bg-green-500 transition-all duration-500 rounded-r shadow-[0_0_10px_rgba(34,197,94,0.5)]';
            } else {
                barNew.style.left = `${50 - (Math.abs(posNew)/maxRange)*50}%`;
                barNew.style.width = `${(Math.abs(posNew)/maxRange)*50}%`;
                barNew.className = 'absolute top-0 bottom-0 bg-red-500 transition-all duration-500 rounded-l shadow-[0_0_10px_rgba(239,68,68,0.5)]';
            }

            // Text Analysis
            const diff = totalValKRW_New - totalValKRW_Old;
            const analysisEl = document.getElementById('analysisText');
            if (diff > 0) {
                analysisEl.innerHTML = `êµì²´ ì‹œ, ê¸°ì¡´ ë³´ìœ  ëŒ€ë¹„ <span class="text-white font-bold">+${formatKRW(diff)}</span> ì¶”ê°€ ì´ìµ ì˜ˆìƒ`;
                analysisEl.className = "mt-6 text-center text-sm font-medium text-green-300 bg-green-900/30 px-4 py-2 rounded-full border border-green-700/50";
            } else {
                analysisEl.innerHTML = `êµì²´ ì‹œ, ê¸°ì¡´ ë³´ìœ  ëŒ€ë¹„ <span class="text-red-300 font-bold">${formatKRW(diff)}</span> ì°¨ì´ ë°œìƒ`;
                analysisEl.className = "mt-6 text-center text-sm font-medium text-amber-300 bg-amber-900/30 px-4 py-2 rounded-full border border-amber-700/50";
            }
        }

        function formatKRW(val) {
            if (Math.abs(val) > 1000000000) return (val / 1000000000).toFixed(2) + " ì–µì›";
            if (Math.abs(val) > 100000000) return (val / 100000000).toFixed(2) + " ì–µì›";
            return (val / 10000).toFixed(0) + " ë§Œì›";
        }

        // --- Charts ---

        function initRebalanceChart() {
            const ctx = document.getElementById('rebalanceChart').getContext('2d');
            rebalanceChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['í˜„ì¬ ë³´ìœ  (27ë…„ë¬¼)', 'êµì²´ í›„ (37ë…„ë¬¼)'],
                    datasets: [{
                        label: 'ë³´ìœ  ìˆ˜ëŸ‰ (ì±„)',
                        data: [100000, 118385],
                        backgroundColor: ['#cbd5e1', '#15803d'],
                        borderRadius: 6,
                        barPercentage: 0.6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.raw.toLocaleString() + " ì±„";
                                }
                            }
                        }
                    },
                    scales: {
                        y: { beginAtZero: true, grid: { display: false } },
                        x: { grid: { display: false } }
                    }
                }
            });
        }

        function updateRebalanceChart(oldQty, newQty, oldCpn, newCpn) {
            if (!rebalanceChartInstance) return;
            rebalanceChartInstance.data.datasets[0].data = [oldQty, newQty];
            rebalanceChartInstance.update();
        }

        function initRateChart() {
            const ctx = document.getElementById('rateChart').getContext('2d');
            rateChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2024', '2025', '2026(E)', '2027(E)'],
                    datasets: [{
                        label: 'ë¸Œë¼ì§ˆ ê¸°ì¤€ê¸ˆë¦¬ (Selic)',
                        data: [11.75, 15.00, 12.25, 10.50],
                        borderColor: '#d97706',
                        backgroundColor: 'rgba(217, 119, 6, 0.1)',
                        borderWidth: 3,
                        tension: 0.3,
                        fill: true,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#d97706',
                        pointRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        annotation: {
                            annotations: {
                                line1: {
                                    type: 'line',
                                    yMin: 15,
                                    yMax: 15,
                                    borderColor: 'rgba(0,0,0,0.2)',
                                    borderWidth: 1,
                                    borderDash: [5, 5],
                                    label: { content: 'í˜„ì¬ ê³ ì ', enabled: true, position: 'start' }
                                }
                            }
                        }
                    },
                    scales: {
                        y: { 
                            beginAtZero: false, 
                            min: 8, 
                            max: 16,
                            grid: { color: '#f1f5f9' }
                        },
                        x: { grid: { display: false } }
                    }
                }
            });
        }

    </script>
</body>
</html>
