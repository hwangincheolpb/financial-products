<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>구조적 쇼티지 모니터링 대시보드</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/bloomberg-theme.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="header-left">
            <h1 class="logo">SHORTAGE MONITOR</h1>
            <span class="version">v1.0</span>
        </div>
        <div class="header-center">
            <span class="title">구조적 쇼티지 모니터링 대시보드</span>
        </div>
        <div class="header-right">
            <a href="summary.html" style="margin-right:1em;color:var(--text-muted);font-size:0.85em;">진행 요약</a>
            <span class="update-time" id="update-time">업데이트: --</span>
            <div class="alert-summary-mini">
                <span class="alert-badge red" id="header-red">0</span>
                <span class="alert-badge yellow" id="header-yellow">0</span>
                <span class="alert-badge green" id="header-green">0</span>
            </div>
        </div>
    </header>

    <main class="main-content">
        <!-- 섹션 1: 경보 요약 -->
        <section id="summary" class="section">
            <div class="section-header">
                <h2>경보 요약 <span class="section-subtitle">Alert Summary</span></h2>
            </div>
            <div class="summary-cards">
                <div class="summary-card critical">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <span class="card-value" id="red-count">0</span>
                        <span class="card-label">CRITICAL</span>
                        <span class="card-desc">즉시 대응 필요</span>
                    </div>
                </div>
                <div class="summary-card warning">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <span class="card-value" id="yellow-count">0</span>
                        <span class="card-label">WARNING</span>
                        <span class="card-desc">주의 관찰 필요</span>
                    </div>
                </div>
                <div class="summary-card stable">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <span class="card-value" id="green-count">0</span>
                        <span class="card-label">STABLE</span>
                        <span class="card-desc">안정 상태</span>
                    </div>
                </div>
                <div class="summary-card total">
                    <div class="card-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <span class="card-value" id="total-count">0</span>
                        <span class="card-label">TOTAL</span>
                        <span class="card-desc">모니터링 항목</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 섹션 2: 핵심 병목 노드 테이블 -->
        <section id="choke-points" class="section">
            <div class="section-header">
                <h2>핵심 병목 노드 <span class="section-subtitle">Choke Points</span></h2>
                <div class="table-controls">
                    <div class="filter-group">
                        <label>경보 등급</label>
                        <select id="alert-filter">
                            <option value="all">전체</option>
                            <option value="red">CRITICAL</option>
                            <option value="yellow">WARNING</option>
                            <option value="green">STABLE</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>카테고리</label>
                        <select id="category-filter">
                            <option value="all">전체</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <input type="text" id="search" placeholder="노드명 검색...">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="data-table" id="choke-points-table">
                    <thead>
                        <tr>
                            <th data-sort="id">#</th>
                            <th data-sort="name">노드명</th>
                            <th data-sort="category">카테고리</th>
                            <th data-sort="inventory">재고량 <span class="unit">(주)</span></th>
                            <th data-sort="leadTime">리드타임 <span class="unit">(배수)</span></th>
                            <th data-sort="priceYoY">가격 YoY <span class="unit">(%)</span></th>
                            <th data-sort="utilization">가동률 <span class="unit">(%)</span></th>
                            <th data-sort="alertLevel">경보</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <!-- 데이터가 여기에 렌더링됩니다 -->
                    </tbody>
                </table>
            </div>
            <div class="table-footer">
                <span id="showing-count">0개 항목 표시</span>
            </div>
        </section>

        <!-- 섹션 3: 원자재 가격 트래킹 -->
        <section id="price-tracking" class="section">
            <div class="section-header">
                <h2>원자재 가격 트래킹 <span class="section-subtitle">Price Tracking</span></h2>
                <div class="chart-controls">
                    <div class="filter-group">
                        <label>원자재</label>
                        <select id="commodity-select">
                            <option value="">선택하세요</option>
                        </select>
                    </div>
                    <div class="period-buttons">
                        <button class="period-btn active" data-period="30">30일</button>
                        <button class="period-btn" data-period="90">90일</button>
                        <button class="period-btn" data-period="365">1년</button>
                    </div>
                </div>
            </div>
            <div class="chart-container">
                <div class="chart-wrapper">
                    <canvas id="price-chart"></canvas>
                </div>
                <div class="chart-info" id="chart-info">
                    <div class="info-item">
                        <span class="info-label">현재 가격</span>
                        <span class="info-value" id="current-price">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">YoY 변화</span>
                        <span class="info-value" id="price-change">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">추세</span>
                        <span class="info-value" id="price-trend">-</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 섹션 4: 상호의존성 체인 -->
        <section id="interdependency" class="section">
            <div class="section-header">
                <h2>상호의존성 체인 <span class="section-subtitle">Interdependency Chains</span></h2>
            </div>
            <div class="chains-grid" id="chains-grid">
                <!-- 체인 카드들이 여기에 렌더링됩니다 -->
            </div>
        </section>

        <!-- 섹션 5: 선행지표 모니터링 -->
        <section id="leading-indicators" class="section">
            <div class="section-header">
                <h2>선행지표 모니터링 <span class="section-subtitle">Leading Indicators</span></h2>
            </div>
            <div class="indicators-grid" id="indicators-grid">
                <!-- 지표 카드들이 여기에 렌더링됩니다 -->
            </div>
        </section>
    </main>

    <!-- 모달 -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal" id="detail-modal">
            <div class="modal-header">
                <h3 id="modal-title">상세 정보</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- 모달 내용이 여기에 렌더링됩니다 -->
            </div>
        </div>
    </div>

    <!-- 푸터 -->
    <footer class="footer">
        <span>구조적 쇼티지 모니터링 시스템</span>
        <span class="separator">|</span>
        <span>데이터 출처: LME, USGS, CRU, Industry Reports</span>
        <span class="separator">|</span>
        <span>면책조항: 투자 조언이 아닙니다</span>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/data-handler.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/chart.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
